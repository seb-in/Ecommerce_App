<!-- <div class="mat-display-3">Login Page</div> -->

<div class="container-fluid">
    <form [formGroup]= "registrationForm"> 

      {{registrationForm.value | json}}
  
        <div class="form-group">
            <label>Username</label>
            <input [class.is-invalid]="userName.invalid && userName.touched" formControlName= "userName" type="text" class="form-control" name="name">
            <!-- <small  [class.d-none]="registrationForm.get('userName').valid || registrationForm.get('userName').untouched" class="text-danger">Username required</small> -->
          
          <div *ngIf="userName.invalid && userName.touched">
              <small *ngIf= "userName.errors?.required" class="text-danger">UserName is required</small>
              <small *ngIf= "userName.errors?.minlength" class="text-danger">Username must be atleast 3 digits</small>
              <small *ngIf= "userName.errors?.forbiddenName" class="text-danger">{{userName.errors?.forbiddenName.value}} username not allowed</small>
          </div>

          <div class="form-group">
            <label>Email</label>
            <button type="button" class="btn btn-secondary btn-sm m-2" (click)="addAlternateEmails()">Add e-mail</button>
            <input [class.is-invalid]="email.invalid && email.touched" type="text" formControlName="email" class="form-control">
            <small class="text-danger" [class.d-none]="email.valid || email.untouched">Email is required</small>
            <div formArrayName="addAlternateEmails" *ngFor="let email of alternateEmails.controls; let i= index">
              <input type="text" class="form-control my-1" [formControlName]="i">
            </div>
          </div>

          <div class="form-check mb-3">
            <input type="checkbox" class="form-check-input" formControlName="subscribe">
            <label class="form-check-label">Send me Promotional offers</label>
          </div>
        </div>
       
        <div class="form-group">
            <label>Password</label>
            <input formControlName= "password" type="password" class="form-control" name="password">
        </div>

      <div class="form-group" >
        <label>Confirm Password</label>
        <input [class.is-invalid]= "registrationForm.errors?.misMatch" formControlName= "confirmPassword" type="password" class="form-control" name="password">
        <small class="text-danger" *ngIf="registrationForm.errors?.misMatch">Passwords donot match</small>
      </div>

      <div formGroupName="address">
          <div class="form-group">
            <label>City</label>
            <input formControlName="city" type="text" class="form-control">
          </div>

          <div class="form-group">
            <label>State</label>
            <input formControlName="state" type="text" class="form-control">
          </div>

          <div class="form-group">
            <label>Postal Code</label>
            <input formControlName="postalcode" type="text" class="form-control">
          </div>
      </div>

      <button (click)="onSubmit()" mat-raised-button color="primary" type="submit" class="btn btn-primary">Submit</button>

      <button class="btn btn-secondary ml-2" (click)="loadAPI()">Load API</button>
      <button (click)="toTable()" mat-fab color="primary" class="ml-2">Table</button>

    </form>   

</div>